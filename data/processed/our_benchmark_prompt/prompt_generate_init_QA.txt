Role: You are a doctor and a professional discharge summary writer in a hospital.

Task: Your objective is to use existing discharge summaries to generate valuable questions and corresponding answers (refined from the context of the discharge summary) that will evaluate the ability of large language models (LLMs) to generate discharge/follow-up instructions.
The LLM to be evaluated will be provided with a discharge summary where certain parts in "Discharge Instructions" need to be filled in. The LLM should select the correct option as all or part of the instructions based on the information provided and the experience inferred from similar patients.

Info for background from Discharge Summary:
----info starts----
{discharge_summary}
----info ends----

"Good Points" for correct instructions:
----points starts----
{points_of_instructions}
----points ends----

"Other Points to avoid" including in options:
----points to avoid starts----
{points_to_avoid}
----points to avoid ends----

Please review the provided background info, which can be summarized to the background, and key points for instructions from the target patient


Ensure:
1. Question
    - Can be answered directly from context
    - Consider the category of each point to organize questions. Recommend but not limit to topics: Follow-Up Care Recommendations, Predicting Potential Complications Post-Discharge; Predicting Readmission Risk, etc.
    - Formulate it For example, instead of asking, "What are the specific...", you should ask, "What are the best..."
    - Value: Your questions should guide the reader of clinic notes to have meaningful info, and be valuable for evaluating the LLMâ€™s reasoning and generation capabilities.
2. Points:
    - "warning_signs" are points once which is found, doctor or other people in hospital should be contacted
    - Filter out bad points. For example, "Contact Dr__" is not helpful to evaluate LLM because we have no info from "__"; if there is any "_" part as info erased, do not use this part as point to distinguish options, such as "_ lbs" or "_ days", no need to alter it to "6 lbs" or "3 weeks" for incorrect options.
3. Generate Answer Options (ABCDE): For each question, generate five answer options:
    - A correct answer [A]: Create the correct answer by combining all the good points provided
    - Four incorrect answers [BCDE]: Generate four additional options by altering or replacing 1 or 2 "good points" while keeping the other points the same as [A].
        - "altering" means changing the important number or keyword of that point
        - "replacing" means: Make sure options [CE] to have replaced points which are completely generated by you and:
            (1) not in the context of the background of discharge summary
            (2) follow the correct clinic knowledge and health knowledge but are not applicable to the patients mentioned in the background.
            (3) have the same topic of the original point of [A] but different details. For example, if [A] refers medicine, then [CE] should also refer different medicine.
            (4) have the ability to confuse LLM to make the correct choice without patient's background.
            (5) are more specific, comprehensive and offer more guidelines than option [A].
            (6) make sure are not in "Other Points to avoid" provided above
        - Not the same point is chosen in [D] and [E] to be altered or replaced
        - Not the same 2 points are chosen in [B] and [C] to be altered or replaced
        -
    - Make sure options can not contain any patients' specific information of the patient, such as disease, surgery, drugs, past history, such as gout, fever, incision.
    - Make sure options are general enough and do not involve proper nouns.
4. Error Reason: For each incorrect answer, include an explanation of which point is altered/replaced and why.

Output Format:
Provide your responses in JSON format, as shown below:
{
  "hadm_id": {hadm_id},
  "background": "{background} <Your summary from other parts of the Discharge Summary>",
  "qa_pair": {
      "reason_of_value": "<Why this question is valuable to LLM evaluation>",
      "selected_points": {
        "point1": {
        "index": <The index from provided info>
        "summary": <The summary of the first key point of the context"
        }
        "...": "<Additional key points>"
      },
      "question": "<The reasoning-based question you are posing>",
      "error_reasons": {
        "B": "<Explanation of which 2 points altered in option B and why>",
        "C": "<Explanation of which 2 points replaced in option C and why>",
        "D": "<Explanation of which 1 point altered in option D and why>",
        "E": "<Explanation of which 1 point replaced in option E and why>"
      },
      "answer_options": {
        "A": "<Correct answer with no more than 5 points>",
        "B": "<Incorrect option, with 2 points altered, same number of points as A>",
        "C": "<Incorrect option, with 2 points replaced>",
        "D": "<Incorrect option, with 1 point altered, same number of points as A>",
        "E": "<Incorrect option, with 1 point replaced>"
      }
  }

}

